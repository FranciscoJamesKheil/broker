{% extends "base.html" %} {% block title %}Register{% endblock %}

{% block log%}far fa-sign-in-alt{% endblock%}
{% block reg%}fa fa-user-plus{% endblock%}
 {% block nav
%}
<ul>
  {% if user.is_authenticated %}
  <li><a href="/home">Home</a></li>
  <li><a href="/logout">Logout</a></li>
  {% else %}
  <li><a href="/login">Login</a></li>
  <li><a href="/register">Register</a></li>
  {% endif %}
</ul>
<i class="bi bi-list mobile-nav-toggle"></i>
{% endblock %} {% block content %}
<section class="div-container" data-aos="fade" id="login_test">
  <div class="container">
    <div class="login-container">
      <form method="POST">
        <input type="text" id="date" name="datetime_login" style="display: none;"/>

        <script>
          function startTime() {
            var today = new Date();
            var hr = today.getHours();
            var min = today.getMinutes();
            var sec = today.getSeconds();
            ap = (hr < 12) ? "AM" : "PM";
            hr = (hr == 0) ? 12 : hr;
            hr = (hr > 12) ? hr - 12 : hr;
            //Add a zero in front of numbers<10
            hr = checkTime(hr);
            min = checkTime(min);
            sec = checkTime(sec);
            
            var months = ['January', 'February', 'March', 'April', 'May', 'June', 'July', 'August', 'September', 'October', 'November', 'December'];
            var days = ['Sun', 'Mon', 'Tue', 'Wed', 'Thu', 'Fri', 'Sat'];
            var curWeekDay = days[today.getDay()];
            var curDay = today.getDate();
            var curMonth = months[today.getMonth()];
            var curYear = today.getFullYear();
            var date = curWeekDay+", "+curDay+" "+curMonth+" "+curYear;
            var time = hr + ":" + min + ":" + sec + " " + ap;
            document.getElementById("date").value = date + "|" + time;
            
            var time = setTimeout(function(){ startTime() }, 500);
        }
        function checkTime(i) {
            if (i < 10) {
                i = "0" + i;
            }
            return i;
        }
        </script>
        <center>
          <img src="../static/img/icons/add-contact.png" style="width: 70px; height: 70px;" alt="">
        </center>
        <h3 align="center">Sign Up</h3>
        <br />
        <div class="form-group">
          <label for="firstName">First Name</label>
          <input
            type="text"
            class="form-control"
            id="firstName"
            name="firstName"
            placeholder="Enter first name"
            style="text-transform: capitalize"
            required
          />
        </div>
        <div class="form-group">
          <label for="lastName">Last Name</label>
          <input
            type="text"
            class="form-control"
            id="lastName"
            name="lastName"
            placeholder="Enter last name"
            style="text-transform: capitalize"
            required
          />
        </div>
        <div class="form-group">
          <label for="email">Email Address</label>
          <input
            type="email"
            class="form-control"
            id="email"
            name="email"
            placeholder="Enter email"
            required
          />
        </div>
        <div class="form-group">
          <label for="email">Contact Number</label>
          <input
            type="number"
            class="form-control"
            id="contact_no"
            name="contact_no"
            placeholder="Enter contact number"
            required
          />
        </div>
        <div class="form-group">
          <label for="password1">Password</label>
          <input
            type="password"
            class="form-control"
            id="password1"
            name="password1"
            placeholder="Enter password"
            onkeyup="checkMatch()"
            required
          /><span toggle="#password1" class="fa fa-fw fa-eye field-icon toggle-password1"></span>
        </div>
        <div class="form-group">
          <label
            id="matchError1"
            style="color: rgb(0, 187, 0); font-weight: 500; display: none"
            >Match</label
          >
          <label
            id="matchError2"
            style="color: rgb(187, 0, 0); font-weight: 500; display: none"
            >Password don't match..</label
          >
          <label
            id="matchError3"
            style="color: rgb(187, 0, 0); font-weight: 500; display: none"
            >Too short, it must be atleast 8 char.</label
          >
        </div>
        <div class="form-group">
          <label for="password2">Password (Confirm)</label>
          <input
            type="password"
            class="form-control"
            id="password2"
            name="password2"
            placeholder="Confirm password"
            onkeyup="checkMatch()"
            required
          /><span toggle="#password2" class="fa fa-fw fa-eye field-icon toggle-password2"></span>
        </div>
        <br />
        <center>
          <button type="submit" class="btn btn-primary">Submit</button>
        </center>
      </form>
    </div>
  </div>
</section>

<script>
  function checkMatch() {
    var p1 = document.getElementById("password1").value;
    var p2 = document.getElementById("password2").value;

    if (p1.length < 8) {
      document.getElementById("matchError1").style.display = "none";
      document.getElementById("matchError2").style.display = "none";
      document.getElementById("matchError3").style.display = "block";
    } else if (p1 == "" ||  p2 == "") {
      document.getElementById("matchError1").style.display = "none";
      document.getElementById("matchError2").style.display = "none";
      document.getElementById("matchError3").style.display = "none";
    } else if (p1 == p2) {
      document.getElementById("matchError1").style.display = "block";
      document.getElementById("matchError2").style.display = "none";
      document.getElementById("matchError3").style.display = "none";
    } else {
      document.getElementById("matchError1").style.display = "none";
      document.getElementById("matchError2").style.display = "block";
      document.getElementById("matchError3").style.display = "none";
    }
  }
</script>
{% endblock %}
